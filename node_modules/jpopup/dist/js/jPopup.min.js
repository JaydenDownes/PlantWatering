!function(e,n){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define([],function(){return e.jPopup=n()}):"object"==typeof module&&module.exports?module.exports=n():e.jPopup=n()}(this,function(){"use strict";var n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";p=0!=e.hash,o(e.content).then(d).then(1==p&&t(!0))},o=function(e){return c.classList.add("jPopupOpen"),Promise.resolve(document.body.insertAdjacentHTML("beforeend",'<div class="jPopup">\n                <button type="button" class="jCloseBtn">\n                    <svg height="32px" viewBox="0 0 32 32" width="32px" xml:space="preserve"><path d="M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z"/></svg>\n                </button>\n                <div class="content">'+e+"</div>\n            </div>"))},t=function(e){1==e?window.location.hash="#popup":window.history.back()},i=function(e){27==e.keyCode&&n.prototype.close(!0)},s=function(){"#popup"!==window.location.hash&&n.prototype.close(!1)},d=function(){document.getElementsByClassName("jCloseBtn")[0].addEventListener("click",function(){n.prototype.close(!0)}),window.addEventListener("keydown",i),1==p&&window.addEventListener("hashchange",s)},c=document.querySelector("html"),p=void 0;return n.prototype={close:function(e){c.classList.add("jPopupClosed"),1==p&&(e&&t(!1),window.removeEventListener("hashchange",s)),window.removeEventListener("keydown",i),document.getElementsByClassName("jPopup")[0].addEventListener("animationend",function(e){e.target.parentNode.removeChild(this),c.classList.remove("jPopupClosed"),c.classList.remove("jPopupOpen")})},open:function(e){n(e)}},window.jPopup=n});